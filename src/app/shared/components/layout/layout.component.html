<ion-header>
  <ion-toolbar color="light">
    <ion-buttons slot="start">
      <ion-button fill="clear" routerLink="/dashboard">
        <ion-icon slot="start" name="lock-closed-outline"></ion-icon>
        <ion-title>SecretLink</ion-title>
      </ion-button>
      <ion-button class="ion-hide-md-down" fill="clear" routerLink="/dashboard">
        <ion-icon slot="start" name="grid-outline"></ion-icon>
        Dashboard
      </ion-button>
      <ion-button class="ion-hide-md-down" fill="clear" routerLink="/links">
        <ion-icon slot="start" name="link-outline"></ion-icon>
        Liens
      </ion-button>
    </ion-buttons>

    <ion-buttons slot="end">
      <ion-button id="account-btn" fill="clear">
        <ion-icon slot="start" name="person-circle-outline"></ion-icon>
        <span class="email ion-hide-md-down">{{ "example@gmail.com" }}</span>
        <ion-icon slot="end"
                  class="ion-hide-md-down"
                  name="chevron-down-outline"
                  [class.rotated]="popoverOpen"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-router-outlet></ion-router-outlet>
</ion-content>

<ion-popover trigger="account-btn"
             [showBackdrop]="false"
             side="bottom"
             alignment="end"
             (ionPopoverWillPresent)="popoverOpen = true"
             (ionPopoverWillDismiss)="popoverOpen = false">
  <ng-template>
    <ion-list lines="none">
      <ion-item [button]="true" routerLink="/account/password" [detail]="false">
        <ion-icon slot="start" name="key-outline"></ion-icon>
        Changer le mot de passe
      </ion-item>
      <ion-item [button]="true" routerLink="/account/tokens" [detail]="false">
        <ion-icon slot="start" name="construct-outline"></ion-icon>
        API tokens
      </ion-item>
      <ion-item [button]="true" [detail]="false">
        <ion-icon slot="start" name="log-out-outline"></ion-icon>
        Se d√©connecter
      </ion-item>
    </ion-list>
  </ng-template>
</ion-popover>
