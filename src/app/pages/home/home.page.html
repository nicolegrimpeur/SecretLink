<ion-content class="ion-padding">

  <section class="hero">
    <div class="hero-text">
      <h1>üîí Partagez vos secrets en toute s√©curit√©</h1>
      <p>
        SecretLink vous permet de transmettre un mot de passe ou toute donn√©e sensible
        via un <b>lien unique</b>, consultable une seule fois puis supprim√© d√©finitivement.
      </p>
    </div>
  </section>

  <section class="steps">
    <ion-grid>
      <ion-row>
        <ion-col size="12" size-md="6" offset-md="3">
          <ion-card>
            <ion-card-header>
              <ion-card-title>Cr√©er un lien s√©curis√©</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <form [formGroup]="form" (ngSubmit)="createSecret()">
                <ion-item lines="none">
                  <ion-input
                    label="Secret :"
                    formControlName="secret"
                    [required]="true"
                    errorText="Ce champ est requis."
                    [counter]="true"
                    [maxlength]="64"
                  />
                </ion-item>

                <div class="ion-display-flex ion-justify-content-center">
                  <ion-button type="submit" [disabled]="form.invalid || loading">Cr√©er</ion-button>
                </div>
              </form>

              @if (creationResult) {
                <ion-list>
                  <ion-item>
                    <ion-label>
                      {{ statusHelp[creationResult.status] }}

                      <br>

                      @if (creationResult.link_token) {
                        <a [href]="linkUrl(creationResult.link_token)" target="_blank">{{ linkUrl(creationResult.link_token) }}</a>
                      }

                      @if (creationResult.expires_at) {
                        <div>Expire : {{ creationResult.expires_at | date:'medium' }}</div>
                      }
                    </ion-label>
                    @if (creationResult.link_token) {
                      <ion-button fill="clear" (click)="copy(linkUrl(creationResult.link_token))">Copier</ion-button>
                    }
                  </ion-item>
                </ion-list>
              }

            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </section>

  <section class="steps">
    <h2>Comment √ßa marche ?</h2>
    <ion-grid>
      <ion-row>
        <ion-col size="12" size-md="4">
          <ion-card>
            <ion-card-header>
              <ion-icon name="lock-closed-outline"></ion-icon>
              <ion-card-title>1. Saisissez votre secret</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              Entrez manuellement un mot de passe, une cl√© API ou importez un fichier CSV
              contenant vos identifiants.
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col size="12" size-md="4">
          <ion-card>
            <ion-card-header>
              <ion-icon name="link-outline"></ion-icon>
              <ion-card-title>2. G√©n√©rez un lien unique</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              Le lien est √† usage unique et s‚Äôautod√©truit apr√®s lecture ou √† expiration.
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col size="12" size-md="4">
          <ion-card>
            <ion-card-header>
              <ion-icon name="share-social-outline"></ion-icon>
              <ion-card-title>3. Partagez en toute confiance</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              Envoyez simplement le lien au destinataire : aucune inscription requise
              pour consulter le secret.
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </section>

  <section class="features">
    <h2>Pourquoi SecretLink ?</h2>
    <ion-grid>
      <ion-row>
        <ion-col size="12" size-md="4">
          <ion-card>
            <ion-card-header>
              <ion-icon name="bulb-outline"></ion-icon>
              <ion-card-title>Intuitive</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              Une interface simple, claire et intuitive.
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col size="12" size-md="4">
          <ion-card>
            <ion-card-header>
              <ion-icon name="lock-closed-outline"></ion-icon>
              <ion-card-title>S√©curit√©</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              Les secrets sont chiffr√©s de bout en bout et supprim√©s d√®s leur lecture. Aucun stockage permanent.
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col size="12" size-md="4">
          <ion-card>
            <ion-card-header>
              <ion-icon name="cloud-outline"></ion-icon>
              <ion-card-title>API & automatisation</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              Automatisez vos partages de secrets gr√¢ce aux tokens personnels et √† l‚ÄôAPI REST. Collection Postman
              <a href="https://github.com/nicolegrimpeur/SecretLink/blob/master/api/SecretLink%20API.json" target="_blank">disponible</a>.
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </section>

  <section class="cta-bottom">
    <h2>Pr√™t √† simplifier le partage de vos secrets ?</h2>
    <ion-button size="large" color="primary" [routerLink]="user ? '/dashboard' : '/auth'">
      {{ user ? 'Acc√©der √† mon espace' : 'Cr√©er un compte gratuit' }}
    </ion-button>
  </section>

  <!-- FOOTER -->
  <footer>
    <p>¬© 2025 SecretLink ({{ version }}) - Nicolas Barrat</p>
    <p class="links">
      <a href="https://github.com/nicolegrimpeur/SecretLink" target="_blank">GitHub</a> ¬∑
      <a href="https://github.com/nicolegrimpeur/SecretLink/wiki" target="_blank">Documentation</a> ¬∑
      <a routerLink="/privacy">Confidentialit√©</a> ¬∑
      <a routerLink="/legal">Mentions l√©gales</a>
    </p>
  </footer>

</ion-content>
